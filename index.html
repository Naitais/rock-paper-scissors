<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="./css-stylesheet/css-stylesheet.css" >
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        const body = document.body;

        const titleScreenContainer = document.createElement("div");
        body.append(titleScreenContainer);
        titleScreenContainer.id="titleScreenContainer"

        const gameTitle = document.createElement("h1");
        titleScreenContainer.append(gameTitle);
        gameTitle.textContent="Rock Paper Scissors!"

        const gameSubTitle = document.createElement("h2");
        titleScreenContainer.append(gameSubTitle);
        gameSubTitle.textContent="Can you beat the computer in this simple game?"

        const gameInstructions = document.createElement("p");
        titleScreenContainer.append(gameInstructions);
        gameInstructions.textContent="Win FIVE rounds of Rock Paper Scissors against the computer to win the game!"

        const startButton = document.createElement("button");
        titleScreenContainer.append(startButton);
        startButton.textContent="START GAME"

        

        const gameContainer = document.createElement("div");
        body.append(gameContainer);
        gameContainer.id="gameContainer"
        gameContainer.style.display="none";

        const gameResults = document.createElement("h2");
        gameContainer.append(gameResults);

       
        const buttonContainer = document.createElement("div")
        gameContainer.append(buttonContainer)
        buttonContainer.id="mainButtonsCont"

        const gameContent =document.createElement("div")
        
        gameContent.id="gameCont"

        const playersSelectionsCont =document.createElement("div");
        gameContent.append(playersSelectionsCont)
        playersSelectionsCont.id="selectionsContainer"

        const playerSelection=document.createElement("p");
        playersSelectionsCont.append(playerSelection)
        playerSelection.id="playerSelection"


        const computerSelection=document.createElement("p");
        playersSelectionsCont.append(computerSelection)
        computerSelection.id="computerSelection"

        const gameScore=document.createElement("div");
        gameContent.append(gameScore)
        gameScore.id="scoreContainer"

        const gameScorePlayer=document.createElement("p");
        gameScore.append(gameScorePlayer)


        const gameScoreComputer=document.createElement("p");
        gameScore.append(gameScoreComputer)

        const resetButton=document.createElement("button");
        
        resetButton.textContent="GO TO MENU"

        const playerButtons=document.createElement("div");
        buttonContainer.append(playerButtons);
        playerButtons.id="btnContainer"

        const computerChoose=document.createElement("div");
        
        computerChoose.id="computerChoose"

        const computerAvatar=document.createElement("img");
        computerChoose.append(computerAvatar);
        computerAvatar.src="./images/karenComputer.png"

        const buttonPaper = document.createElement("button")
        playerButtons.append(buttonPaper)
        buttonPaper.id="paperButton"
        buttonPaper.classList.add("chooseButton")
        
        const paperImg =document.createElement("img")
        paperImg.src="./images/paper.jpg"
        buttonPaper.append(paperImg)
        paperImg.id="paper"
        
        const paperImgCopy=document.createElement("img");
        paperImgCopy.src="./images/paper.jpg";

        const scissorsImgCopy=document.createElement("img");
        scissorsImgCopy.src="./images/scissors.jpg";

        const rockImgCopy=document.createElement("img");
        rockImgCopy.src="./images/hqdefault.jpg";

        const buttonScissors = document.createElement("button")
        playerButtons.append(buttonScissors)
        buttonScissors.id="scissorsButton"
        buttonScissors.classList.add("chooseButton")

        const scissorsImg =document.createElement("img")
        scissorsImg.src="./images/scissors.jpg"
        buttonScissors.append(scissorsImg)
        scissorsImg.id="scissors"

        const buttonRock = document.createElement("button")
        playerButtons.append(buttonRock)
        buttonRock.id="rockButton"
        buttonRock.classList.add("chooseButton")

        const rockImg =document.createElement("img")
        rockImg.src="./images/hqdefault.jpg"
        buttonRock.append(rockImg)
        rockImg.id="rock"

        const playersChoosePics=document.createElement("div");
        buttonContainer.append(playersChoosePics);
        playersChoosePics.id="playersPics";

        const playerPicDiv=document.createElement("div");
        playersChoosePics.append(playerPicDiv);

        const playerList=document.createElement("ul");
        playerPicDiv.append(playerList);
        playerList.classList.add("list");
        listChild=document.createElement("li");
        playerList.append(listChild);

        const computerPicDiv=document.createElement("div");
        playersChoosePics.append(computerPicDiv);

        const computerList=document.createElement("ul");
        computerPicDiv.append(computerList);
        computerList.classList.add("list");
        listChildCom=document.createElement("li");
        computerList.append(listChildCom);

        playerButtons.append(computerChoose);

        buttonContainer.append(gameContent);

        buttonContainer.append(resetButton);

        const gameFinishScreen=document.createElement("div");
        body.append(gameFinishScreen);
        gameFinishScreen.style.display="none";
        gameFinishScreen.id="gameFinishScreen";

        const endGameText=document.createElement("h2");
        gameFinishScreen.append(endGameText);

        const computerPaper=document.createElement("img");
        computerPaper.src="./images/computerPaper.jpg"
        
        const computerScissors=document.createElement("img");
        computerScissors.src="./images/computerScissors.jpg"

        const computerRock=document.createElement("img");
        computerRock.src="./images/computerRock.jpg"

        gameContent.append(resetButton);

        const continueButton = document.createElement("button");
        gameFinishScreen.append(continueButton);
        continueButton.textContent="CONTINUE";
        
        
            
        

        let playerScore=0;
        let winner;
        let computerScore=0;
        let playersSelections;
        let round=1;
        

        function gameScoreCounter(){
                round++;
                if(computerScore===5){
                    gameResults.textContent="Round "+round+" results: It is a draw!";
                    gameContainer.style.display="none";
                    gameFinishScreen.removeAttribute("style");

                    

                    endGameText.textContent="You lost against the computer, better luck next time."
                }else if(playerScore===5){
                    gameResults.textContent="Round "+round+" results: The winner is the "+winner+"!";
                    gameContainer.style.display="none";
                    gameFinishScreen.removeAttribute("style");



                    
            }else{
                

                    

                    endGameText.textContent="You won against the computer! Good job ;)."
                    }
                    
                }

        gameScorePlayer.textContent="Player Score: 0"
        gameScoreComputer.textContent="Computer Score: 0"
        gameResults.textContent="Click the buttons to play!"
        computerSelection.textContent="Computer chooses: ..."
        playerSelection.textContent="Player chooses: ..."

          
        function scoreCounter(winner){
            if(winner === "player" && winner!=="draw"){
                playerScore++;
                gameScorePlayer.textContent="Player Score: "+playerScore;  
            }else if(winner==="computer" && winner!=="draw"){
                computerScore++;
                gameScoreComputer.textContent="Computer Score: "+computerScore;
            }
           
            return playerScore
        }
        
        function paperPlayerPic(){

            listChild.remove();
            listChild=document.createElement("li");
            playerList.append(listChild);
            listChild.append(paperImgCopy);
        }

        function scissorsPlayerPic(){
            listChild.remove();
            listChild=document.createElement("li");
            playerList.append(listChild);
            listChild.append(scissorsImgCopy);
        }
        function rockPlayerPic(){
            listChild.remove();
            listChild=document.createElement("li");
            playerList.append(listChild);
            listChild.append(rockImgCopy);
            
        }

        function gameStart(){
            startButton.addEventListener("click", (e)=>{
                
                titleScreenContainer.style.display="none";
                gameContainer.removeAttribute("style");
                round=1;
                playerScore=0;
                computerScore=0;
                gameResults.textContent="Click the buttons to play!"
                gameScorePlayer.textContent="Player Score: 0"
                gameScoreComputer.textContent="Computer Score: 0"
                computerSelection.textContent="Computer chooses: ..."
                playerSelection.textContent="Player chooses: ..."
                listChild.remove();
                listChildCom.remove();
            })
        }

        function gameReset(){
            resetButton.addEventListener("click", (e)=>{
                gameContainer.style.display="none";
                titleScreenContainer.removeAttribute("style");
                
            })
        }
        
        function gameContinue(){
            continueButton.addEventListener("click", (e)=>{
                gameFinishScreen.style.display="none";
                titleScreenContainer.removeAttribute("style");
                    
                    
                
            })
        }

        function gameRound(winner){
            btnContainer.addEventListener("click",(e)=>{
        let randomNumber = Math.floor(Math.random()*3)+1
            let computer = randomNumber
            if(randomNumber === 1){
               computer = "paper"
               listChildCom.remove();
                listChildCom=document.createElement("li");
                computerList.append(listChildCom);
                listChildCom.append(computerPaper);
                console.log(round);
                console.log(computerScore);
                console.log(playerScore);

                
            }else if(randomNumber === 2){
                computer = "scissors"
                listChildCom.remove();
                listChildCom=document.createElement("li");
                computerList.append(listChildCom);
                listChildCom.append(computerScissors);
                console.log(round);
                console.log(computerScore);
                console.log(playerScore);
            }else if(randomNumber === 3){
                computer = "rock"
                listChildCom.remove();
                listChildCom=document.createElement("li");
                computerList.append(listChildCom);
                listChildCom.append(computerRock);
                console.log(round);
                console.log(computerScore);
                console.log(playerScore);
            }
        
        let player;
        
            if(e.target.id=="paper"||e.target.id=="paperButton"){
                player="paper";
                if(player === computer){
                winner = "draw";
                computerSelection.textContent="Computer chooses: Paper!"
                
                playerSelection.textContent="Player chooses: Paper!"
                paperPlayerPic()
                
                }else if(player === "paper" && computer === "scissors"){
                winner = "computer";
                computerSelection.textContent="Computer chooses: Scissors!"
                playerSelection.textContent="Player chooses: Paper!"
                paperPlayerPic()
                
                }else if(player === "paper" && computer === "rock"){
                winner = "player";
                computerSelection.textContent="Computer chooses: Rock!"
                playerSelection.textContent="Player chooses: Paper!"
                paperPlayerPic()
                
                }

            }else if(e.target.id=="scissors"||e.target.id=="scissorsButton"){
                player="scissors";
                if(player === computer){
                winner = "draw";
                computerSelection.textContent="Computer chooses: Scissors!"
                playerSelection.textContent="Player chooses: Scissors!"
                scissorsPlayerPic()
                
                }else if(player === "scissors" && computer === "paper"){
                winner = "player";
                computerSelection.textContent="Computer chooses: Paper!"
                playerSelection.textContent="Player chooses: Scissors!"
                scissorsPlayerPic()
                
                }else if(player === "scissors" && computer === "rock"){
                winner = "computer";
                computerSelection.textContent="Computer chooses: Rock!"
                playerSelection.textContent="Player chooses: Scissors!"
                scissorsPlayerPic()
                }

            }else if(e.target.id=="rock"||e.target.id=="rockButton"){
                player="rock";
                if(player === computer){
                winner = "draw";
                computerSelection.textContent="Computer chooses: Rock!"
                playerSelection.textContent="Player chooses: Rock!"
                rockPlayerPic()
               
                }else if(player === "rock" && computer === "paper"){
                winner = "computer";
                computerSelection.textContent="Computer chooses: Paper!"
                playerSelection.textContent="Player chooses: Rock!"
                rockPlayerPic()
                
                }else if(player === "rock" && computer === "scissors"){
                winner = "player";
                computerSelection.textContent="Computer chooses: Scissors!"
                playerSelection.textContent="Player chooses: Rock!"
                rockPlayerPic()
                
                }
            }
            
            scoreCounter(winner)
            if(winner ==="computer" || winner ==="player"){
                gameResults.textContent="Round "+round+" results: The winner is the "+winner+"!";
            }else{
                gameResults.textContent="Round "+round+" results: It is a draw!"
            }
            gameScoreCounter()
            
        })
        
    }
    
        gameStart()
        gameRound()
        gameReset()
        gameContinue()
    
    </script>
</body>
</html>